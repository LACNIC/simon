{% extends 'bootstrap.html' %}
{% load staticfiles %}

{% block content %}

    <div class="col-lg-12">

        <h1 class="page-header">RIPE Atlas en LAC</h1>

        {#        <p>Esta sección contiene los artículos que consideramos son de#}
        {#            utilidad para el proyecto. Los artículos pueden abatcar diferentes#}
        {#            áreas dek proyecto, como las metodologías de recabamiento de datos, las#}
        {#            técnicas para procesar dichos datos y sacar conclusiones, etc.</p>#}
        {##}
        {#        <h2 class="page-header">Resumen por país</h2>#}
        {#        {% for c in countries %}#}
        {#            {{ c }} {{ countries.c }}#}
        {#        {% endfor %}#}


        <h2 class="page-header">Resumen</h2>

        <div style="display: inline; vertical-align: top;">
            <p><code style="font-size: 3em">{{ len_probes }}</code> RIPE Atlas probes en la región LAC.</p>
        </div>

        <div class="progress">
            <div class="progress-bar" style="width: {{ connected }}; background-image: none; background-color: #9BC53D">
                <span class="sr-only"></span>
            </div>
            <div class="progress-bar" style="width: {{ disconnected }}; background-image: none; background-color: #C3423F">
                <span class="sr-only"></span>
            </div>
            <div class="progress-bar" style="width: {{ abandoned }}; background-image: none; background-color: #FDE74C">
                <span class="sr-only"></span>
            </div>
            <div class="progress-bar" style="width: {{ never }}; background-image: none; background-color: darkgray">
                <span class="sr-only"></span>
            </div>
        </div>




    <div class="col-md-3">
        <div class="panel panel-default" style="color: #9BC53D">
            <div class="panel-body">
                <h3>{{ connected }}</h3> conectadas
            </div>
        </div>
    </div>

    <div class="col-md-3">
        <div class="panel panel-default" style="color: #C3423F">
            <div class="panel-body">
                <h3>{{ disconnected }}</h3> desconectadas
            </div>
        </div>
    </div>

    <div class="col-md-3">
        <div class="panel panel-default" style="color: darkgray">
            <div class="panel-body">
                <h3>{{ never }}</h3> nunca se han conectado
            </div>
        </div>
    </div>

    <div class="col-md-3">
        <div class="panel panel-default" style="color: #FDE74C">
            <div class="panel-body">
                <h3>{{ abandoned }}</h3> han sido abandonadas
            </div>
        </div>
    </div>


        <h2 class="page-header">Listado completo de probes en LAC</h2>

        <p>Referencia de los estados de probes posibles</p>

        <p>
            <span class="glyphicon glyphicon glyphicon-ok-sign" aria-hidden="true" style="color: #9BC53D"></span> Connected<br>
            <span class="glyphicon glyphicon glyphicon-minus-sign" aria-hidden="true" style="color: #C3423F"></span> Disconnected<br>
            <span class="glyphicon glyphicon-question-sign" aria-hidden="true" style="color: darkgray"></span> Never Connected<br>
            <span class="glyphicon glyphicon-warning-sign" aria-hidden="true" style="color: #FDE74C"></span> Abandoned
        </p>

        <table class="table">
            <th>Probe ID</th>
            <th>País</th>
            <th>ASN (v4) / (v6)</th>
            <th>Último status</th>
            <th>Momento de chequeo</th>

            {% for probe in probes %}
                <tr>
                    <td>
                        {{ probe.probe_id }}
                    </td>
                    <td>
                        {{ probe.country_code }}
                    </td>
                    <td>
                        {{ probe.asn_v4 }} / {{ probe.asn_v6 }}
                    </td>
                    <td>
                        {% if probe.status.status == 'Disconnected' %}
                            <span class="glyphicon glyphicon glyphicon-minus-sign" aria-hidden="true" style="color: #C3423F"></span>

                        {% elif probe.status.status == 'Connected' %}
                            <span class="glyphicon glyphicon glyphicon-ok-sign" aria-hidden="true" style="color: #9BC53D"></span>

                        {% elif probe.status.status == 'Abandoned' %}
                            <span class="glyphicon glyphicon-warning-sign" aria-hidden="true" style="color: #FDE74C"></span>

                        {% elif probe.status.status == 'Never Connected' %}
                            <span class="glyphicon glyphicon-question-sign" aria-hidden="true" style="color: darkgrey"></span>

                        {% endif %}
                    </td>
                    <td>
                        {{ probe.last_check_date | safe }}
                    </td>
                </tr>
            {% endfor %}

        </table>
    </div>
{% endblock %}
