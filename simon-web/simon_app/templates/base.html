{% load staticfiles %}
{% load simon_extras %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    {#Google auth#}
    <meta name="google-site-verification" content="lIBJB024gcZVoXDBZuktqXPxgNYhFHTNC--30FLOa_8"/>

    <meta name="description"
          content="Midiendo la interconexión entre redes de América Latina y Caribe a través de mediciones de latencia."/>
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>{% block title %}Inicio{% endblock %} - Proyecto Simón</title>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <meta http-equiv="content-type" content="text/html;charset=utf-8">

    <link type="image/x-icon" href="{% static 'simon_app/imgs/logos/favicon.ico' %}" rel="shortcut icon">
    <link rel="apple-touch-icon" href="{% static 'simon_app/imgs/logos/favicon.ico' %}">
    <link rel="mask-icon" href="{% static 'simon_app/imgs/logos/favicon.ico' %}" color="red">

    <!-- jQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>

    <!-- Extended Bootstrap (Jasny) -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/jasny-bootstrap/3.1.3/css/jasny-bootstrap.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/jasny-bootstrap/3.1.3/js/jasny-bootstrap.min.js"></script>
    {#    <link rel="stylesheet" href="{% static 'simon_app/css/navmenu-push.css' %}">#}

    <!-- LACNIC Styles -->
    <link rel="stylesheet" type="text/css" href="{% static 'simon_app/css/simon.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'simon_app/css/lacniclabs-generico.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'simon_app/css/lacniclabs-especifico.css' %}">

    <!-- GitHub buttons -->
    <!-- Place this tag in your head or just before your close body tag. -->
    <script async defer src="https://buttons.github.io/buttons.js"></script>

    {% block headers %}
    {% endblock %}

    <script type="text/javascript">
        {% block javascript %}
        {% endblock %}
    </script>

    <style>
        {% block css %}
        {% endblock %}
    </style>

</head>
<body>

{#Barra anaranjada#}
<div id="barra-primaria" class="navbar">

    <a href="https://www.labs.lacnic.net" title="LACNIC labs" class="pull-left">
        <img src="{% static 'simon_app/imgs/logos/logo_labs.png' %}" border="0" class="hidden-xs hidden-sm"
             alt="LACNIC Labs" style="max-height: 5em;"/>
        <img src="{% static 'simon_app/imgs/logos/logo_labs_small.png' %}" border="0" class="visible-xs visible-sm"
             alt="LACNIC Labs" style="max-height: 5em;"/>
    </a>

    <a id="titulo-primario" class="navbar-brand pull-right" href="{% url 'simon_app.views.home' %}">
        <h2>
            Proyecto Simón
        </h2>
    </a>
</div>

{#Segunda barra#}
<div id="barra-secundaria" class="navbar">

    <ul class="nav navbar-nav">
        <li><a href="http://lacnic.net">Home de LACNIC</a></li>
        <li><a href="http://labs.lacnic.net">Blog LACNIC Labs</a></li>
        <li><a href="https://natmeter.labs.lacnic.net">NAT Meter</a></li>
    </ul>
</div>


<div class="container">
    <div class="header clearfix">
        {#        Nada#}
    </div>

    {% block header %}
    {% endblock %}

    <div id="fondo" class="row marketing">
        {% block content %}
            {#                Every child's content will get rendered in here.#}
        {% endblock %}
    </div>


</div>

<footer>

    <a href="https://www.labs.lacnic.net/">
        <img src="{% static 'simon_app/imgs/logos/logo_labs_foot.png' %}" class="hidden-xs center-block"
             title="LACNIC labs"/>
    </a>
</footer>

{#<script data-main="{% static 'simon_app/js/simon_probe_plugin.js' %}/main"#}
{#        src="{% static 'simon_app/js/require.js' %}"></script>#}

<!-- 		Analytics -->
<script>
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
        a = s.createElement(o),
            m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-101863654-1', 'auto');
    ga('send', 'pageview');

</script>

<script type="application/javascript">
    // Global variable CHARTS
    // Accessible from child templates
    var CHARTS = {
        loading: true,
        queue: [],
        draw: function (chart) {
            this.queue.push(chart);
        }
    };
</script>

<script type="application/javascript">
    var SIMON;
</script>

<!-- SIMON script async loading -->
<script type="application/javascript">
    (function (f, b) {
        var c = f.createElement(b),
            e = f.getElementsByTagName(b)[0];
        c.src = "https://cdn.dev.lacnic.net/require.js";
        c.type = "text/javascript";
        e.parentNode.insertBefore(c, e);
        c.onload = c.onreadystatechange = function () {
            // Require libraries loaded
            requirejs.config({
                "paths": {
                    "jquery": "https://cdn.dev.lacnic.net/jquery-1.11.1.min",
                    "jsonp": "https://cdn.dev.lacnic.net/jsonp",
                    "date-format": "https://cdn.dev.lacnic.net/date.format",
                    "simon": "https://cdn.rawgit.com/LACNIC/simon/855e6dc/simon-javascript/simon_probe_plugin"  // '/static/simon_app/js/simon_probe_plugin'  //
                }
            });

            require(["jquery"], function () {
                require(["jsonp", "date-format"], function () {

                    require(["simon"], function (_SIMON) {

                        _SIMON.params.log = true;
                        _SIMON.params.print = true;

                        SIMON = _SIMON;  // load SIMON as a global variable

{#                        SIMON.init();#}

                    });
                });
            });

        }
    }(document, "script"));
</script>

<script type="application/javascript">

    (function (f, b) {

        var c = f.createElement(b),
            e = f.getElementsByTagName(b)[0];
        c.src = "https://cdn.dev.lacnic.net/require.js";
        c.type = "text/javascript";
        e.parentNode.insertBefore(c, e);
        c.onload = c.onreadystatechange = function () {
            // Require libraries loaded
            requirejs.config({
                "paths": {
{#                    "charts": "/static/simon_app/js/charts",#}
                    "charts": "https://cdn.rawgit.com/LACNIC/static/96dacbac/charts",
                    "jsapi": "https://www.gstatic.com/charts/loader",
                    "jquery": "https://cdn.dev.lacnic.net/jquery-1.11.1.min"
                }
            });

            if (typeof google != 'undefined' && typeof google.charts != 'undefined') {
                require(["charts", "jquery"], function (ASYNC_CHARTS, $) {
                    onLoad(ASYNC_CHARTS);
                });
            } else {
                require(["charts", "jquery", "jsapi"], function (ASYNC_CHARTS, $) {
                    onLoad(ASYNC_CHARTS);
                });
            }

            var onLoad = function (ASYNC_CHARTS) {

{#                ASYNC_CHARTS.endpoint = 'http://127.0.0.1:8001';#}

                for (i in CHARTS.queue) {
                    ASYNC_CHARTS.draw(CHARTS.queue[i])
                }

                CHARTS = ASYNC_CHARTS;
            }


        }
    }(document, "script"));
</script>

{% block afterbody %}
{% endblock %}
</body>
</html>